<html>
  <head>
    <meta charset="utf-8">
    <title> Signup </title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
    </script>
    <script type="text/javascript" src="https://npmcdn.com/parse@1.9.2/dist/parse.min.js"></script>
    </script>

  </head>
  <body>
    <div id="login">
      id : <input type="text" id="id"> 
      pw : <input type="password" id="password"> 
      email : <input type="text" id="email"> 
      <input type="button" value="SIGNUP" onclick="signup()">
    </div>
    <script type="text/javascript">
      Parse.initialize("myAppId");
      Parse.serverURL = 'http://localhost:1337/parse';
      function signup(){
        var id = $("#id").val()
        var password = $("#password").val()
        var email = $("#email").val()
        var user = new Parse.User();

        if(Parse.User.current()){
          Parse.User.logOut()
        }
        
        if(id && password && email)
        {
          user.set("username", id);
          user.set("password", password);
          user.set("email", email);

          user.signUp(null, {
            success: function(user) {              
              alert("SignUp Success");
              window.location = "sampleapp_index.html"
            },
            error: function(user, error) {
              alert("SignUp Error : " + error.message);
            }
          });
        }
        else {
          alert("wrong data");
        }
      }
    </script>
  </body>
</html>
